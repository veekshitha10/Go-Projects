startDelaySeconds: 0
hostPort: localhost:0
lowercaseOutputName: true
lowercaseOutputLabelNames: true
rules:
  # Common Kafka broker metrics
  - pattern: 'kafka.server<type=(.+), name=(.+)PerSec\w*, topic=(.+)><>Count'
    name: kafka_$1_$2_total
    labels:
      topic: "$3"
    type: COUNTER
  - pattern: 'kafka.server<type=(.+), name=(.+)PerSec\w*><>Count'
    name: kafka_$1_$2_total
    type: COUNTER
  - pattern: 'kafka.server<type=(.+), name=(.+), topic=(.+)><>(Count|Value)'
    name: kafka_$1_$2
    labels:
      topic: "$3"
  - pattern: 'kafka.server<type=(.+), name=(.+)><>(Count|Value)'
    name: kafka_$1_$2
  - pattern: 'kafka.network<type=(.+), name=(.+)><>(Count|Value)'
    name: kafka_network_$1_$2
  - pattern: 'kafka.controller<type=(.+), name=(.+)><>(Count|Value)'
    name: kafka_controller_$1_$2
  - pattern: 'java.lang<type=(.+), name=(.+)><>(Count|Value|Usage|Used|Committed|Max)'
    name: jvm_$1_$2
